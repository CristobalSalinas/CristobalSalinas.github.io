---
import {SITE} from "@config"; // Configuracion de el sitio
import Portfolio from "@layouts/Portfolio.astro";
import { getCollection } from "astro:content";
import getSortedProyects from "@utils/getSortedProyects";
import getPageNumbers from "@utils/getPageNumbers";


const proyects = await getCollection("portfolio");
const sortedProyects = getSortedProyects(proyects);
const totalPages = getPageNumbers(sortedProyects.length);
const paginatedPosts = sortedProyects.slice(0,SITE.postPerPage);
---

<Portfolio 
    proyects={paginatedPosts}
    pageNum={1}
    totalPages={totalPages.length}/>